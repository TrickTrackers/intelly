<div id="overallsearch-pg" class="content-page component_holder">
  <div class="content">
    <div class="container no-padding overallsearch">
      <p-panel styleClass="green_panel customTitleBar">
        <p-header>
          <div class="ui-helper-clearfix searchresult_panelheader">
            <span class="ui-panel-title" style="display:inline-block;margin-top:2px">Search</span>
            <button class="btn btn-sm btn-primary" style="float:right" *ngIf="queryparams.t == 'overallsearch'" (click)="Exit_search()">
              <i class="fa fa-close"></i> Exit</button>
          </div>
        </p-header>

        <div class="ui-g no-padding" id="searchresult_component">

          <div class="ui-g-12 ui-md-12 no-padding">
            <div class="row">

              <div class="col-lg-8 col-sm-8 col-md-8">
                <div class="form-group row ">
                  <div class="col-sm-2">
                    <label for="lbl_master_pwd" class="col-form-label" style="font-weight:bold !important">Search</label>
                  </div>
                  <div class="col-sm-3">
                    <input name="text" class="form-control" placeholder="" #input type="text" [(ngModel)]="search_info.searchstr"
                      (keyup.enter)="GetFilterSearch(search_info)">

                  </div>
                  <div class="col-sm-3">
                    <button type="button" pButton icon="fa-check" label="Search" (click)="GetFilterSearch(search_info)"></button>
                    <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                    tooltip="Search supports Full Word, Partial Word, Module ID and Document ID search. Module ID's are shown by Right clicking on a module. Document ID's are shown in the Document Library or Document tab of a Module"></i> -->
                    <div class="btn-group help helpLeft">
                      <i class="fa fa-question-circle fa-sm help_icon "></i>
                      <div class="helpHover">
                        <div class="helpHover_inner">
                          <ul class="help_ul">
                            <li>
                              <p>Search supports Full Word, Partial Word, Module ID and
                                Document
                                ID search. Module ID's are shown by Right clicking on a
                                module.
                                Document ID's are shown in the Document Library or
                                Document
                                tab
                                of a Module</p>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-2">
                    <label for="lbl_master_pwd" class="col-form-label" style="font-weight:bold !important">Search
                      Filter</label>
                  </div>
                  <div class="col-sm-2">
                    <p-checkbox binary="true" name="searchall" label="All" [(ngModel)]="search_info.searchall" (click)="fnCheckLinksall(search_info.searchall)"></p-checkbox>
                    <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                    tooltip="Performs a Partial Name Search in all Modules (including Module tabs) and Document titles for the designated Keyword(s)"></i> -->
                    <div class="btn-group help helpLeft">
                      <i class="fa fa-question-circle fa-sm help_icon "></i>
                      <div class="helpHover">
                        <div class="helpHover_inner">
                          <ul class="help_ul">
                            <li>
                              <p>Performs a Partial Name Search in all Modules (including
                                Module
                                tabs) and Document titles for the designated Keyword(s)</p>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>


          <div class="ui-g-12 ui-md-6 no-padding">
            <p-panel header="Module" styleClass="green_panel customTitleBar">
              <div class="row" style="min-height: 100px  !important;">
                <div class="col-lg-10 col-sm-10 col-md-10">
                  <div class="form-group row">
                    <div class="col-sm-5">
                      <p-checkbox binary="true" name="modulename" label="Module Name" [(ngModel)]="search_info.modulename"
                        (click)="fnCheckmodname(search_info.modulename)"></p-checkbox>
                      <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                        tooltip="Performs a Partial Name Search in all Modules (including Module tabs) for the designated Keyword(s)"></i> -->
                      <div class="btn-group help helpLeft">
                        <i class="fa fa-question-circle fa-sm help_icon "></i>
                        <div class="helpHover">
                          <div class="helpHover_inner">
                            <ul class="help_ul">
                              <li>
                                <p>Performs a Partial Name Search in all Modules
                                  (including
                                  Module tabs) for the designated Keyword(s)"</p>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-5">
                      <p-checkbox binary="true" name="modeuleid" label="Module ID" [(ngModel)]="search_info.moduleid"
                        (click)="fnCheckmodid(search_info.moduleid)">
                      </p-checkbox>
                      <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                        tooltip="Performs a Search for the specific Module ID #"></i> -->
                      <div class="btn-group help helpLeft">
                        <i class="fa fa-question-circle fa-sm help_icon "></i>
                        <div class="helpHover">
                          <div class="helpHover_inner">
                            <ul class="help_ul">
                              <li>
                                <p>Performs a Search for the specific Module ID #"</p>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <div class="col-sm-5">
                      <label for="lbl_master_pwd" class="col-form-label">Module</label>

                    </div>
                    <div class="col-sm-7">
                      <p-dropdown [tabindex]=1 [disabled]="search_info.moduleid == true" [options]="moduledropdownlist"
                        [(ngModel)]="search_info.module" appendTo="body" [style]="{'width':'100%','height':'30px'}"
                        filter="true" (onChange)="getlegos(search_info.module)">
                        <ng-template let-item pTemplate="selectedItem">
                          <div *ngIf="item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <div class="namebatch_left" [innerHtml]="item.value.legoName"></div>
                            <span class="idbatch_left">{{ item.value.legoId }}</span>
                          </div>
                          <div *ngIf="! item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <span>{{ item.label }}</span>
                          </div>
                        </ng-template>
                        <ng-template let-item pTemplate="item">
                          <div *ngIf="item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <span class="namebatch_left" [innerHtml]="item.value.legoName">
                            </span>
                            <span class="idbatch_left">{{ item.value.legoId }}</span>
                          </div>
                          <div *ngIf="! item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <span>{{ item.label }}</span>
                          </div>
                        </ng-template>

                      </p-dropdown>
                      <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                        tooltip="Performs a Partial Name search in the Module selected in the dropdown and all it's child Modules.  The Dropdown shows child modules included in the current module"></i> -->
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label for="lbl_master_pwd" class="col-sm-5 col-form-label">Owner </label>
                    <div class="col-sm-7">
                      <p-dropdown [tabindex]=1 [options]="ownerdropdownlist" [(ngModel)]="search_info.owner" appendTo="body"
                        [style]="{'width':'100%','height':'30px'}" filter="true">
                        <ng-template let-item pTemplate="selectedItem">
                          <div *ngIf="item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <div class="namebatch_left" [innerHtml]="item.value.userName"></div>
                            <span class="idbatch_left">{{ item.value.employeeId }}</span>
                          </div>
                          <div *ngIf="! item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <span>{{ item.label }}</span>
                          </div>
                        </ng-template>
                        <ng-template let-item pTemplate="item">
                          <div *ngIf="item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <span class="namebatch_left" [innerHtml]="item.value.userName">
                            </span>
                            <span class="idbatch_left">{{ item.value.employeeId }}</span>
                          </div>
                          <div *ngIf="! item.value" class="ui-helper-clearfix select-box elipsis_div">
                            <span>{{ item.label }}</span>
                          </div>
                        </ng-template>

                      </p-dropdown>
                    </div>
                  </div>
                </div>

              </div>

            </p-panel>
          </div>
          <div class="ui-g-12 ui-md-6 no-padding">
            <p-panel header="Document" styleClass="customTitleBar green_panel">
              <div class="row" style="min-height: 100px !important;">
                <div class="col-lg-10 col-sm-10 col-md-10">
                  <div class="form-group row">
                    <div class="col-sm-5">
                      <p-checkbox binary="true" name="doctitle" label="Document Title" [(ngModel)]="search_info.doctitle"
                        (click)="fnCheckdocname(search_info.doctitle)"></p-checkbox>
                      <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                        tooltip="Performs a Partial Name Search in all Document titles for the designated Keyword(s)"></i> -->
                      <div class="btn-group help helpLeft">
                        <i class="fa fa-question-circle fa-sm help_icon "></i>
                        <div class="helpHover">
                          <div class="helpHover_inner">
                            <ul class="help_ul">
                              <li>
                                <p>Performs a Partial Name Search in all Document
                                  titles
                                  for the designated Keyword(s)"</p>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-5">
                      <p-checkbox binary="true" name="docid" label="Document ID" [(ngModel)]="search_info.docid"
                        (click)="fnCheckdocid(search_info.docid)">
                      </p-checkbox>
                      <!-- <i class="fa fa-question-circle fa-lg" data-placement="bottom" aria-hidden="true"
                                        tooltip="Enter the unique Document ID into the Search field to list the specific document you. Document ID's can be seen in the Document library or Document tab of a Module"></i> -->
                      <div class="btn-group help helpLeft">
                        <i class="fa fa-question-circle fa-sm help_icon "></i>
                        <div class="helpHover" style="right: 300px !important;">
                          <div class="helpHover_inner">
                            <ul class="help_ul">
                              <li>
                                <p>Enter the unique Document ID into the Search field
                                  to
                                  list the specific document you. Document ID's can
                                  be
                                  seen in the Document library or Document tab of a
                                  Module"</p>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- </div>
                                <div class="col-lg-10 col-sm-10 col-md-10"> -->
                  <div class="form-group row ">
                    <div class="col-sm-5">
                      <label for="lbl_master_pwd" class="col-form-label" style="font-weight:bold !important">Document
                        Date From</label>

                    </div>
                    <div class="col-sm-5">
                      <input type="text" #dp="bsDatepicker" bsDatepicker class="form-control" id="example" [(ngModel)]="search_info.fromdate"
                        readonly [bsConfig]="bsConfig">
                    </div>

                  </div>
                  <div class="form-group row ">
                    <div class="col-sm-5">
                      <label for="lbl_master_pwd" class="col-form-label" style="font-weight:bold !important">TO</label>

                    </div>
                    <div class="col-sm-5">
                      <input type="text" #dp="bsDatepicker" [minDate]="search_info.fromdate" bsDatepicker class="form-control"
                        id="example" [(ngModel)]="search_info.todate" readonly [bsConfig]="bsConfig">
                    </div>

                  </div>
                </div>

              </div>
            </p-panel>

          </div>

        </div>

        <div class="ui-g no-padding" id="searchresult_table">
          <p-dataTable expandableRows="true" [(value)]="search_list" scrollable="true" [(scrollHeight)]="searchresult_table">
            <!-- <p-column field="legoId" header="" [style]="{'width':'10%'}">
            </p-column> -->
            <p-column field="" header="S.No" [style]="{'width':'4%'}">
              <ng-template let-i="rowIndex" pTemplate="body">
                {{i+1}}
              </ng-template>
            </p-column>
            <p-column field="legoName" header="Module Name" [style]="{'width':'20%'}">
            </p-column>
            <p-column field="" header="Module Path" [style]="{'width':'27%'}">
              <ng-template let-i="rowData" pTemplate="body">
                <ol class="breadcrumb navigation_breadcrumb ng-star-inserted">
                  <li *ngFor="let m of i.path;trackBy:index;let i = index; " class="breadcrumb-item" ng-reflect-klass="breadcrumb-item">
                    <a class="ng-star-inserted">
                      {{ m.legoName }}
                    </a>
                  </li>
                </ol>

              </ng-template>
            </p-column>
            <p-column field="tab" header="Tab Name" [style]="{'width':'20%'}">
            </p-column>
            <p-column field="" header="Path" [style]="{'width':'27%'}">
              <ng-template let-i="rowData" pTemplate="body">
                <a (click)="navigateRoute(i)" [routerLink]="" style="cursor:pointer; color: blueviolet">{{i.legoName}}
                  <span *ngIf="i.title != null" style="cursor:pointer">>><span innerHtml="{{i.title}}"></span>
                  </span>
                </a>

              </ng-template>
            </p-column>
          </p-dataTable>
        </div>
      </p-panel>
    </div>
  </div>
</div>
